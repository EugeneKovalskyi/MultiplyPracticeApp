(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();let y=null;function S(e){let t=0,n=1;const d=setInterval(()=>{n++,t===99&&n===99&&(t=100,n=0,y=100,clearInterval(d)),n===99&&(t++,n=1),e.textContent=`${t>9?t:"0"+t}.${n>9?n:"0"+n}`,y=+`${t}.${n}`},10);return d}const N=document.getElementById("tableBody"),O=document.getElementById("totalAnswers"),D=document.getElementById("averageTime"),P=document.getElementById("totalTime"),U=document.getElementById("toggleLogButton"),T=document.getElementById("clearLogButton"),V=document.getElementById("log"),h=document.getElementById("logTable"),i=[];function q({expression:e,userAnswer:t,correctAnswer:n,isCorrect:d,stopwatchTime:o}){const s=document.createElement("tr"),l=document.createElement("td"),C=document.createElement("td"),b=document.createElement("td"),u=document.createElement("td"),x=document.createElement("td");s.append(u,C,l,b,x),l.textContent=o,C.textContent=e,b.textContent=t,x.textContent=n,d?(u.textContent="✔",u.classList.add("td--correct")):(u.textContent="×",u.classList.add("td--wrong")),N.append(s),i.push(arguments[0])}function W(){let e=0,t=0;for(let n of i)e+=n.stopwatchTime,n.isCorrect&&t++;P.textContent=e.toFixed(2),D.textContent=(e/i.length).toFixed(2),O.textContent=`${t} / ${i.length}`}function j(){i.length=0,N.textContent="",P.textContent="0",D.textContent="0",O.textContent="0"}function k(){h.hidden=!h.hidden,T.hidden=!T.hidden,V.classList.toggle("log--visible"),U.classList.toggle("log__button--open"),!h.hidden&&i.length&&W()}const z=document.getElementById("settings"),G=document.getElementById("toggleSettingsButton"),A=document.getElementById("settingsContainer"),H=document.getElementById("rangeLeft"),J=document.getElementById("rangeRight");function v(){z.classList.toggle("settings--visible"),G.classList.toggle("settings__button--open"),A.hidden=!A.hidden}function Q(){const e=+H.value,t=+J.value;return[e,t]}const p=["0","1","2","3","4","5","6","7","8","9","Backspace","ArrowLeft","ArrowRight","Tab","Delete"],X=document.getElementById("toggleLogButton"),M=document.getElementById("clearLogButton"),g=document.getElementById("mathExpression"),I=document.getElementById("start"),f=document.getElementById("check"),w=document.getElementById("correctIcon"),B=document.getElementById("wrongIcon"),r=document.getElementById("stopwatch"),F=document.getElementById("logTable"),c=document.getElementById("answerInput"),Y=document.getElementById("toggleSettingsButton"),K=document.getElementById("settingsContainer"),Z=document.getElementById("stopwatchCheckbox"),tt=document.getElementById("autocheckCheckbox"),_=document.getElementById("soundCheckbox"),et=document.getElementById("themeCheckbox"),nt=new Audio("sound/correctAnswer.mp3"),ot=new Audio("sound/wrongAnswer.mp3");let a=null,m=null;window.addEventListener("load",st);document.addEventListener("keydown",ct);document.addEventListener("keyup",dt);document.addEventListener("click",rt);function st(){K.hidden=!0,M.hidden=!0,g.hidden=!0,w.hidden=!0,B.hidden=!0,F.hidden=!0,f.disabled=!0,c.disabled=!0}function ct(e){const t=e.target;(!p.includes(e.key)||e.key===" ")&&e.preventDefault(),t.closest("#answerInput")&&t.value.length===6&&!p.slice(10).includes(e.key)&&e.preventDefault(),t.closest("#range")&&t.value.length===3&&!p.slice(10).includes(e.key)&&e.preventDefault()}function dt(e){const t=e.target;t===c&&e.key==="Enter"&&E(),t===c&&tt.checked&&+t.value===m&&E()}function rt(e){const t=e.target;t===r&&$(),t===I&&lt(),t===f&&E(),t===M&&j(),t===X&&k(),t===Y&&v(),t===Z&&gt(),t===et&&mt(),!F.hidden&&!e.target.closest("#log")&&k(),!K.hidden&&!e.target.closest("#settings")&&(v(),$(),L())}function E(){let e=g.textContent,t=Number(c.value),n=m===+t;it(n),a&&(q({expression:e,userAnswer:t,correctAnswer:m,isCorrect:n,stopwatchTime:y}),clearInterval(a)),a=S(r),L()}function lt(){g.hidden=!1,I.hidden=!0,f.disabled=!1,c.disabled=!1,r.classList.remove("stopwatch--timestop"),L(),a=S(r)}function $(){clearInterval(a),r.classList.add("stopwatch--timestop"),g.hidden=!0,I.hidden=!1,f.disabled=!0,c.disabled=!0}function it(e){e?(_.checked&&nt.play(),w.hidden=!1,c.classList.add("answer__input--correct"),setTimeout(()=>{w.hidden=!0,c.classList.remove("answer__input--correct")},700)):(_.checked&&ot.play(),B.hidden=!1,c.classList.add("answer__input--wrong"),setTimeout(()=>{B.hidden=!0,c.classList.remove("answer__input--wrong")},700))}function L(){const e=Q(),t=R(...e),n=R(...e);m=t*n,ut(t,n),at()}function ut(e,t){g.textContent=`${e} * ${t}`}function at(){c.value=""}function R(e,t){return Math.floor(e+Math.random()*(t+1-e))}function gt(){r.hidden=!r.hidden}function mt(){document.body.classList.toggle("body--light")}
